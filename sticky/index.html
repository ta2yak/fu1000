<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Sticky Card</title>
    <link rel="stylesheet" type="text/css" href="../semantic/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
  </head>
  <body>
    <div id="card" class="ui grid">

      <template v-if="!loaded">
        <div class="ui active dimmer">
          <div class="ui loader"></div>
        </div>
      </template>
      <template v-else>
        <div class="ui card sixteen wide column">

          <!-- 表示中の表示 -->
          <template v-if="!editable">
            <div class="content">
              <!-- ヘッダー部 -->

              <div class="ui label teal large draggable">
                <i class="hashtag icon"></i> {{ title }}
              </div>
              <div class="right floated ui icon buttons compact">
                <button v-on:click="onEdit" class="ui button compact">
                  <i class="setting icon">&nbsp;</i>
                </button>
                <button v-on:click="onClose" class="ui button compact">
                  <i class="close icon">&nbsp;</i>
                </button>
              </div>

              <!-- コンテンツ部 -->
              <div class="description">
                <div class="ui form">
                  <div class="field">
                    <div v-html="compiledMarkdown"></div>
                  </div>
                </div>
              </div>
            </div>

          </template>
          <!-- 編集中の表示 -->
          <template v-else>
            <div class="content">
              <!-- ヘッダー部 -->

              <div class="ui fluid labeled input">
                <div class="ui label">名称</div>
                <input type="text" placeholder="Task A" :value="title" @input="updateTitle"/>
              </div>


              <!-- コンテンツ部 -->
              <div class="description">
                <div class="ui form">
                  <div class="field">
                    <textarea :value="text" @input="updateText" placeholder="内容"></textarea>
                  </div>
                </div>
              </div>
            </div>

            <!-- アクションエリア -->
            <div class="extra content">
              <span class="right floated star">
                <button v-on:click="onSave" class="ui button teal">Save</button>
              </span>
            </div>
          </template>


        </div>
      </template>

    </div>

  <script src="js/vue.min.js"></script>
  <script src="js/index.js"></script>

  </body>
</html>
